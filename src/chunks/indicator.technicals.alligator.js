"use strict";(self.webpackChunkfcsapi_chart=self.webpackChunkfcsapi_chart||[]).push([["indicator.technicals.alligator"],{4153:(t,e,i)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}function l(t,e,i){return e=s(e),function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,i||[],s(t).constructor):e.apply(t,i))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}i.r(e),i.d(e,{default:()=>h});const h=function(t){function e(t,i,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=l(this,e,[t,i,r])).title="Alligator",n.shorttitle="Alligator",n.precision=2,n.jawLength=void 0!==i.jawLength?i.jawLength:13,n.jawOffset=void 0!==i.jawOffset?i.jawOffset:8,n.teethLength=void 0!==i.teethLength?i.teethLength:8,n.teethOffset=void 0!==i.teethOffset?i.teethOffset:5,n.lipsLength=void 0!==i.lipsLength?i.lipsLength:5,n.lipsOffset=void 0!==i.lipsOffset?i.lipsOffset:3,n.src=void 0!==i.src?i.src:"hl2",n.linewidth=void 0!==i.linewidth?i.linewidth:2,n.jawColor=i.jawColor||"#2962FF",n.teethColor=i.teethColor||"#EF5350",n.lipsColor=i.lipsColor||"#26A69A",n.panelType="main",n.panelHeight=150,n.plots=[{dataKey:"jaw",colorKey:"jawColor",title:"Jaw"},{dataKey:"teeth",colorKey:"teethColor",title:"Teeth"},{dataKey:"lips",colorKey:"lipsColor",title:"Lips"}],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(e,t),i=e,o=[{key:"getSettingsConfig",value:function(){return{inputs:[{key:"jawLength",label:"Jaw Length",type:"number",default:13,min:1,max:500,step:1},{key:"jawOffset",label:"Jaw Offset",type:"number",default:8,min:0,max:100,step:1},{key:"teethLength",label:"Teeth Length",type:"number",default:8,min:1,max:500,step:1},{key:"teethOffset",label:"Teeth Offset",type:"number",default:5,min:0,max:100,step:1},{key:"lipsLength",label:"Lips Length",type:"number",default:5,min:1,max:500,step:1},{key:"lipsOffset",label:"Lips Offset",type:"number",default:3,min:0,max:100,step:1},{key:"src",label:"Source",type:"select",default:"hl2",options:["close","hl2","hlc3","ohlc4"]},{key:"linewidth",label:"Line Width",type:"number",default:2,min:1,max:5,step:1}],style:[{key:"jawColor",label:"Jaw",type:"color",default:"#2962FF"},{key:"teethColor",label:"Teeth",type:"color",default:"#EF5350"},{key:"lipsColor",label:"Lips",type:"color",default:"#26A69A"}]}}}],(r=[{key:"calculate",value:function(){var t=this,e=this.engine.data;if(e&&0!==e.length){var i=e.map(function(e){switch(t.src){case"hl2":return(e.high+e.low)/2;case"hlc3":return(e.high+e.low+e.close)/3;case"ohlc4":return(e.open+e.high+e.low+e.close)/4;default:return e.close}}),r=this.calculateSMMA(i,this.jawLength),n=this.calculateSMMA(i,this.teethLength),o=this.calculateSMMA(i,this.lipsLength),l=this.shiftArray(r,this.jawOffset),a=this.shiftArray(n,this.teethOffset),s=this.shiftArray(o,this.lipsOffset);this.data={jaw:l,teeth:a,lips:s}}}},{key:"calculateSMMA",value:function(t,e){for(var i=[],r=0,n=0;n<t.length;n++)n<e-1?i[n]=null:n===e-1?(r=t.slice(0,e).reduce(function(t,e){return t+e},0)/e,i[n]=r):(r=(r*(e-1)+t[n])/e,i[n]=r);return i}},{key:"shiftArray",value:function(t,e){if(0===e)return t;for(var i=new Array(t.length).fill(null),r=0;r<t.length-e;r++)i[r+e]=t[r];return i}},{key:"render",value:function(t,e){if(this.visible&&this.data){var i=t.ctx,r=t.getDpr(),n=this.engine;(this.data.jaw&&this.data.jaw.length===n.data.length||(this.calculate(),this.data&&this.data.jaw))&&(i.save(),i.scale(r,r),this.drawLine(i,this.data.jaw,this.jawColor,this.linewidth,n),this.drawLine(i,this.data.teeth,this.teethColor,this.linewidth,n),this.drawLine(i,this.data.lips,this.lipsColor,this.linewidth,n),i.fillStyle="#d1d4dc",i.font="bold 11px sans-serif",i.fillText(this.shorttitle,5,12),i.restore())}}},{key:"drawLine",value:function(t,e,i,r,n){if(e){var o=n.visibleRange,l=Math.max(0,o.start),a=Math.min(e.length,o.end);t.strokeStyle=i,t.lineWidth=r,t.beginPath();for(var s=!1,f=l;f<a;f++){var h=e[f];if(null!==h&&!isNaN(h)){var c=n.indexToX(f)+n.candleWidth/2,u=n.priceToY(h);s?t.lineTo(c,u):(t.moveTo(c,u),s=!0)}}t.stroke()}}}])&&n(i.prototype,r),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,r,o}(i(8018).A)}}]);