"use strict";(self.webpackChunkfcsapi_chart=self.webpackChunkfcsapi_chart||[]).push([["indicator.patterns.engulfing"],{6570:(e,t,r)=>{function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function l(e,t,r){return t=u(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a()?Reflect.construct(t,r||[],u(e).constructor):t.apply(e,r))}function a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(a=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}r.r(t),r.d(t,{default:()=>c});const c=function(e){function t(e,r,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=l(this,t,[e,r,o])).title="Engulfing Pattern",i.shorttitle="Engulf",i.precision=2,i.showBullish=void 0===r.showBullish||r.showBullish,i.showBearish=void 0===r.showBearish||r.showBearish,i.bullishColor=r.bullishColor||"#26a69a",i.bearishColor=r.bearishColor||"#ef5350",i.panelType="main",i.plots=[{dataKey:"bullish",colorKey:"bullishColor",title:"Bullish Engulfing"},{dataKey:"bearish",colorKey:"bearishColor",title:"Bearish Engulfing"}],i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),r=t,n=[{key:"getSettingsConfig",value:function(){return{inputs:[{key:"showBullish",label:"Show Bullish",type:"checkbox",default:!0},{key:"showBearish",label:"Show Bearish",type:"checkbox",default:!0}],style:[{key:"bullishColor",label:"Bullish Color",type:"color",default:"#26a69a"},{key:"bearishColor",label:"Bearish Color",type:"color",default:"#ef5350"}]}}}],(o=[{key:"calculate",value:function(){for(var e=this.engine.data,t=[],r=[],o=0;o<e.length;o++)if(t.push(null),r.push(null),!(o<1)){var i=e[o-1],n=e[o],l=i.open,a=i.close,u=n.open,s=n.close,c=a>l,h=s<u;a<l&&s>u&&u<=a&&s>=l&&(t[o]=n.low),c&&h&&u>=a&&s<=l&&(r[o]=n.high)}this.data={bullish:t,bearish:r}}},{key:"render",value:function(e,t){if(this.visible&&this.data){var r=e.ctx,o=e.getDpr(),i=this.engine,n=i.data;if(this.data.bullish&&this.data.bullish.length===n.length||(this.calculate(),this.data)){r.save(),r.scale(o,o);var l=i.visibleRange,a=Math.max(0,l.start),u=Math.min(n.length,l.end);if(this.showBullish){r.fillStyle=this.bullishColor;for(var s=a;s<u;s++){var c=this.data.bullish[s];if(null!==c){var h=i.indexToX(s)+i.candleWidth/2,f=i.priceToY(c)+15;this.drawTriangle(r,h,f,8,"up")}}}if(this.showBearish){r.fillStyle=this.bearishColor;for(var b=a;b<u;b++){var p=this.data.bearish[b];if(null!==p){var y=i.indexToX(b)+i.candleWidth/2,d=i.priceToY(p)-15;this.drawTriangle(r,y,d,8,"down")}}}r.restore()}}}},{key:"drawTriangle",value:function(e,t,r,o,i){e.beginPath(),"up"===i?(e.moveTo(t,r-o),e.lineTo(t-o,r+o),e.lineTo(t+o,r+o)):(e.moveTo(t,r+o),e.lineTo(t-o,r-o),e.lineTo(t+o,r-o)),e.closePath(),e.fill()}}])&&i(r.prototype,o),n&&i(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,n}(r(8018).A)}}]);