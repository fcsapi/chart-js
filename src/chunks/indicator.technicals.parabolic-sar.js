"use strict";(self.webpackChunkfcsapi_chart=self.webpackChunkfcsapi_chart||[]).push([["indicator.technicals.parabolic-sar"],{9454:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}function a(t,e,r){return e=u(e),function(t,e){if(e&&("object"==n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],u(t).constructor):e.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(l=function(){return!!t})()}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}r.r(e),r.d(e,{default:()=>s});const s=function(t){function e(t,r,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=a(this,e,[t,r,n])).title="Parabolic SAR",o.shorttitle="PSAR",o.precision=2,o.start=void 0!==r.start?r.start:.02,o.increment=void 0!==r.increment?r.increment:.02,o.maximum=void 0!==r.maximum?r.maximum:.2,o.upColor=r.upColor||"#26A69A",o.downColor=r.downColor||"#EF5350",o.dotSize=void 0!==r.dotSize?r.dotSize:2,o.panelType="main",o.plots=[{dataKey:"sar",colorKey:"color",title:"SAR"}],o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),r=e,i=[{key:"getSettingsConfig",value:function(){return{inputs:[{key:"start",label:"Start",type:"number",default:.02,min:.001,max:1,step:.001},{key:"increment",label:"Increment",type:"number",default:.02,min:.001,max:1,step:.001},{key:"maximum",label:"Maximum",type:"number",default:.2,min:.01,max:1,step:.01},{key:"dotSize",label:"Dot Size",type:"number",default:2,min:1,max:5,step:1}],style:[{key:"upColor",label:"Up Trend",type:"color",default:"#26A69A"},{key:"downColor",label:"Down Trend",type:"color",default:"#EF5350"}]}}}],(n=[{key:"calculate",value:function(){var t=this.engine.data;if(t&&!(t.length<2)){var e=[],r=[],n=t[0].low,o=t[0].high,i=this.start,a=1;e[0]=n,r[0]=!0;for(var l=1;l<t.length;l++){var u=t[l],c=t[l-1];n+=i*(o-n),1===a?u.low<n?(a=-1,n=o,o=u.low,i=this.start):(u.high>o&&(o=u.high,i=Math.min(i+this.increment,this.maximum)),n=Math.min(n,c.low),l>1&&(n=Math.min(n,t[l-2].low))):u.high>n?(a=1,n=o,o=u.high,i=this.start):(u.low<o&&(o=u.low,i=Math.min(i+this.increment,this.maximum)),n=Math.max(n,c.high),l>1&&(n=Math.max(n,t[l-2].high))),e[l]=n,r[l]=1===a}this.data={sar:e,isUptrend:r}}}},{key:"render",value:function(t,e){if(this.visible&&this.data){var r=t.ctx,n=t.getDpr(),o=this.engine;if(this.data.sar&&this.data.sar.length===o.data.length||(this.calculate(),this.data&&this.data.sar)){r.save(),r.scale(n,n);for(var i=o.visibleRange,a=Math.max(0,i.start),l=Math.min(this.data.sar.length,i.end),u=a;u<l;u++){var c=this.data.sar[u];if(null!==c&&!isNaN(c)){var s=o.indexToX(u)+o.candleWidth/2,f=o.priceToY(c);r.fillStyle=this.data.isUptrend[u]?this.upColor:this.downColor,r.beginPath(),r.arc(s,f,this.dotSize,0,2*Math.PI),r.fill()}}r.restore()}}}}])&&o(r.prototype,n),i&&o(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i}(r(8018).A)}}]);