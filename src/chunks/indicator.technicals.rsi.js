"use strict";(self.webpackChunkfcsapi_chart=self.webpackChunkfcsapi_chart||[]).push([["indicator.technicals.rsi"],{7180:(e,t,l)=>{function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){for(var l=0;l<t.length;l++){var o=t[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function i(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var r=l.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function a(e,t,l){return t=u(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,n()?Reflect.construct(t,l||[],u(e).constructor):t.apply(e,l))}function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(n=function(){return!!e})()}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}l.r(t),l.d(t,{default:()=>s});const s=function(e){function t(e,l,o){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=a(this,t,[e,l,o])).title="Relative Strength Index",r.shorttitle="RSI",r.precision=2,r.length=void 0!==l.length?l.length:14,r.src=void 0!==l.src?l.src:"close",r.rsi_valueColor=l.rsi_valueColor||"#2962FF",r.overboughtLevel=void 0!==l.overboughtLevel?l.overboughtLevel:70,r.overboughtColor=l.overboughtColor||"#787B86",r.overboughtVisible=void 0===l.overboughtVisible||l.overboughtVisible,r.middleLevel=void 0!==l.middleLevel?l.middleLevel:50,r.middleColor=l.middleColor||"rgba(120, 123, 134, 0.5)",r.middleVisible=void 0===l.middleVisible||l.middleVisible,r.oversoldLevel=void 0!==l.oversoldLevel?l.oversoldLevel:30,r.oversoldColor=l.oversoldColor||"#787B86",r.oversoldVisible=void 0===l.oversoldVisible||l.oversoldVisible,r.upperbandLevel=void 0!==l.upperbandLevel?l.upperbandLevel:70,r.upperbandColor=l.upperbandColor||"#787B86",r.upperbandVisible=void 0===l.upperbandVisible||l.upperbandVisible,r.lowerbandLevel=void 0!==l.lowerbandLevel?l.lowerbandLevel:30,r.lowerbandColor=l.lowerbandColor||"#787B86",r.lowerbandVisible=void 0===l.lowerbandVisible||l.lowerbandVisible,r.backgroundColor=l.backgroundColor||"rgba(33, 150, 243, 0.1)",r.backgroundVisible=void 0===l.backgroundVisible||l.backgroundVisible,r.panelType="separate",r.panelHeight=150,r.plots=[{dataKey:"rsi_value",colorKey:"rsi_valueColor",title:"RSI"}],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(t,e),l=t,i=[{key:"getSettingsConfig",value:function(){return{inputs:[{key:"length",label:"Length",type:"number",default:14,min:1,max:200,step:1},{key:"src",label:"Source",type:"source",default:"close"}],style:[{key:"rsi_valueColor",label:"RSI",type:"color",default:"#2962FF"},{key:"overboughtLevel",label:"Overbought",type:"number",default:70,step:1},{key:"overboughtColor",label:"Overbought",type:"color",default:"#787B86"},{key:"overboughtVisible",label:"Overbought",type:"checkbox",default:!0},{key:"middleLevel",label:"Middle",type:"number",default:50,step:1},{key:"middleColor",label:"Middle",type:"color",default:"rgba(120, 123, 134, 0.5)"},{key:"middleVisible",label:"Middle",type:"checkbox",default:!0},{key:"oversoldLevel",label:"Oversold",type:"number",default:30,step:1},{key:"oversoldColor",label:"Oversold",type:"color",default:"#787B86"},{key:"oversoldVisible",label:"Oversold",type:"checkbox",default:!0},{key:"upperbandLevel",label:"Upper Band",type:"number",default:70,step:1},{key:"upperbandColor",label:"Upper Band",type:"color",default:"#787B86"},{key:"upperbandVisible",label:"Upper Band",type:"checkbox",default:!0},{key:"lowerbandLevel",label:"Lower Band",type:"number",default:30,step:1},{key:"lowerbandColor",label:"Lower Band",type:"color",default:"#787B86"},{key:"lowerbandVisible",label:"Lower Band",type:"checkbox",default:!0},{key:"backgroundColor",label:"Background",type:"color",default:"rgba(33, 150, 243, 0.1)"},{key:"backgroundVisible",label:"Background",type:"checkbox",default:!0}]}}}],(o=[{key:"calculate",value:function(){var e=this,t=this.engine.data,l=this.engine.dataManager,o=(t.map(function(t){return t[e.src]}),l.calculateRSI(t,this.length));this.data={rsi_value:o}}},{key:"render",value:function(e,t){if(this.visible&&this.data){var l=e.ctx,o=e.dpr,r=this.engine,i=r.data;if(this.data.rsi_value&&this.data.rsi_value.length===i.length||(this.calculate(),this.data&&this.data.rsi_value)){var a=t?t.top:0,n=a+0,u=a+(t?t.height:100)-0-n;l.save(),l.scale(o,o),this.backgroundVisible&&this.drawFill(l,n,u,this.upperbandLevel,this.lowerbandLevel,this.backgroundColor,r,o,t),this.overboughtVisible&&this.drawHLine(l,n,u,this.overboughtLevel,this.overboughtColor,r,o,t),this.middleVisible&&this.drawHLine(l,n,u,this.middleLevel,this.middleColor,r,o,t),this.oversoldVisible&&this.drawHLine(l,n,u,this.oversoldLevel,this.oversoldColor,r,o,t),this.upperbandVisible&&this.drawHLine(l,n,u,this.upperbandLevel,this.upperbandColor,r,o,t),this.lowerbandVisible&&this.drawHLine(l,n,u,this.lowerbandLevel,this.lowerbandColor,r,o,t),this.drawLine(l,this.data.rsi_value,!1,this.rsi_valueColor,2,n,u,r,t),l.restore()}}}},{key:"drawLine",value:function(e,t,l,o,r,i,a,n,u){if(t&&0!==t.length){var d=n.visibleRange,s=Math.max(0,d.start),b=Math.min(t.length,d.end),c=t.slice(s,b),v=s-d.start;e.strokeStyle=o,e.lineWidth=r,e.beginPath();var p=!1;c.forEach(function(t,o){if(null!==t&&!isNaN(t)){var r,s=d.start+v+o,b=n.indexToX(s)+n.candleWidth/2;if(l)r=n.priceToY(t);else{var c=u&&void 0!==u.minValue?u.minValue:0,h=u&&void 0!==u.maxValue?u.maxValue:100;r=i+a-(t-c)/(h-c)*a}p?e.lineTo(b,r):(e.moveTo(b,r),p=!0)}}),e.stroke()}}},{key:"drawHistogram",value:function(e,t,l,o,r,i,a,n){if(t&&0!==t.length)for(var u=i.visibleRange,d=a&&void 0!==a.minValue?a.minValue:0,s=(a&&void 0!==a.maxValue?a.maxValue:100)-d,b=o+r,c=b-(0-d)/s*r,v=u.start;v<u.end;v++)if(!(v<0||v>=t.length)){var p=t[v];if(null!=p&&!isNaN(p)){var h=i.indexToX(v)+i.candleWidth/2,f=b-(p-d)/s*r,y=Math.max(1,.8*i.candleWidth);if(n){var g=v>0?t[v-1]:p;e.fillStyle=n(p,g)}else e.fillStyle=l;var m=Math.abs(f-c),k=p>=0?f:c;e.fillRect(h-y/2,k,y,m)}}}},{key:"drawHLine",value:function(e,t,l,o,r,i,a,n){var u=n&&void 0!==n.minValue?n.minValue:0,d=t+l-(o-u)/((n&&void 0!==n.maxValue?n.maxValue:100)-u)*l;e.strokeStyle=r,e.lineWidth=1,e.setLineDash([5,5]),e.beginPath(),e.moveTo(0,d),e.lineTo(i.canvas.width/a,d),e.stroke(),e.setLineDash([])}},{key:"drawFill",value:function(e,t,l,o,r,i,a,n,u){var d=u&&void 0!==u.minValue?u.minValue:0,s=(u&&void 0!==u.maxValue?u.maxValue:100)-d,b=t+l,c=b-(o-d)/s*l,v=b-(r-d)/s*l;e.fillStyle=i,e.fillRect(0,Math.min(c,v),a.canvas.width/n,Math.abs(v-c))}}])&&r(l.prototype,o),i&&r(l,i),Object.defineProperty(l,"prototype",{writable:!1}),l;var l,o,i}(l(8018).A)}}]);