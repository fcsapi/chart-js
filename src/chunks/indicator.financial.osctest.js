"use strict";(self.webpackChunkfcsapi_chart=self.webpackChunkfcsapi_chart||[]).push([["indicator.financial.osctest"],{9578:(e,t,l)=>{function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var l=0;l<t.length;l++){var o=t[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,a(o.key),o)}}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var i=l.call(e,t||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function r(e,t,l){return t=s(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,n()?Reflect.construct(t,l||[],s(e).constructor):t.apply(e,l))}function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(n=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}l.r(t),l.d(t,{default:()=>d});const d=function(e){function t(e,l,o){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=r(this,t,[e,l,o])).title="4",i.shorttitle="4",i.precision=2,i.len=void 0!==l.len?l.len:14,i.len2=void 0!==l.len2?l.len2:20,i.fastTSI=void 0!==l.fastTSI?l.fastTSI:13,i.slowTSI=void 0!==l.slowTSI?l.slowTSI:25,i.diLen=void 0!==l.diLen?l.diLen:14,i.adxSmooth=void 0!==l.adxSmooth?l.adxSmooth:14,i.cci_valColor=l.cci_valColor||"#2962FF",i.mfi_valColor=l.mfi_valColor||"#2962FF",i.cmo_valColor=l.cmo_valColor||"#2962FF",i.roc_valColor=l.roc_valColor||"#2962FF",i.tsi_valColor=l.tsi_valColor||"#2962FF",i.cog_valColor=l.cog_valColor||"#2962FF",i.wpr_valColor=l.wpr_valColor||"#2962FF",i.dmiPlusColor=l.dmiPlusColor||"#2962FF",i.dmiMinusColor=l.dmiMinusColor||"#2962FF",i.dmiAdxColor=l.dmiAdxColor||"#2962FF",i.panelType="separate",i.panelHeight=150,i.plots=[{dataKey:"cci_val",colorKey:"cci_valColor",title:"CCI"},{dataKey:"mfi_val",colorKey:"mfi_valColor",title:"MFI"},{dataKey:"cmo_val",colorKey:"cmo_valColor",title:"CMO"},{dataKey:"roc_val",colorKey:"roc_valColor",title:"ROC"},{dataKey:"tsi_val",colorKey:"tsi_valColor",title:"TSI"},{dataKey:"cog_val",colorKey:"cog_valColor",title:"COG"},{dataKey:"wpr_val",colorKey:"wpr_valColor",title:"WPR"},{dataKey:"dmiPlus",colorKey:"dmiPlusColor",title:"DMI +"},{dataKey:"dmiMinus",colorKey:"dmiMinusColor",title:"DMI -"},{dataKey:"dmiAdx",colorKey:"dmiAdxColor",title:"DMI ADX (from ta.dmi)"}],i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(t,e),l=t,a=[{key:"getSettingsConfig",value:function(){return{inputs:[{key:"len",label:"Length",type:"number",default:14,min:1,step:1},{key:"len2",label:"Secondary Length",type:"number",default:20,min:1,step:1},{key:"fastTSI",label:"TSI Fast",type:"number",default:13,min:1,step:1},{key:"slowTSI",label:"TSI Slow",type:"number",default:25,min:1,step:1},{key:"diLen",label:"DI Length",type:"number",default:14,min:1,step:1},{key:"adxSmooth",label:"ADX Smoothing",type:"number",default:14,min:1,step:1}],style:[{key:"cci_valColor",label:"CCI",type:"color",default:"#2962FF"},{key:"mfi_valColor",label:"MFI",type:"color",default:"#2962FF"},{key:"cmo_valColor",label:"CMO",type:"color",default:"#2962FF"},{key:"roc_valColor",label:"ROC",type:"color",default:"#2962FF"},{key:"tsi_valColor",label:"TSI",type:"color",default:"#2962FF"},{key:"cog_valColor",label:"COG",type:"color",default:"#2962FF"},{key:"wpr_valColor",label:"WPR",type:"color",default:"#2962FF"},{key:"dmiPlusColor",label:"DMI +",type:"color",default:"#2962FF"},{key:"dmiMinusColor",label:"DMI -",type:"color",default:"#2962FF"},{key:"dmiAdxColor",label:"DMI ADX (from ta.dmi)",type:"color",default:"#2962FF"}]}}}],(o=[{key:"calculate",value:function(){var e=this.engine.data,t=this.engine.dataManager,l=t.calculateCCI(e,this.len),o=t.calculateMFI(e,this.len),i=t.calculateCMO(e,this.len),a=t.calculateROC(e,this.len),r=t.calculateTSI(e,this.fastTSI,this.slowTSI),n=t.calculateCOG(e,this.len),s=t.calculateWPR(e,this.len),c=t.calculateDMI(e,this.diLen,this.adxSmooth),d=c.plusDI,u=c.minusDI,v=c.adx,f=t.calculateCrossover(d,u),h=t.calculateCrossunder(d,u);this.data={cci_val:l,mfi_val:o,cmo_val:i,roc_val:a,tsi_val:r,cog_val:n,wpr_val:s,dmiPlus:d,dmiMinus:u,dmiAdx:v},this.signals={dmi_cross_up:f,dmi_cross_down:h}}},{key:"render",value:function(e,t){if(this.visible&&this.data){var l=e.ctx,o=e.dpr,i=this.engine,a=i.data;if(this.data.cci_val&&this.data.cci_val.length===a.length||(this.calculate(),this.data&&this.data.cci_val)){var r=t?t.top:0,n=r+0,s=r+(t?t.height:100)-0,c=s-n;if(l.save(),l.scale(o,o),this.drawLine(l,this.data.cci_val,!1,this.cci_valColor,1,n,c,i,t),this.drawLine(l,this.data.mfi_val,!1,this.mfi_valColor,1,n,c,i,t),this.drawLine(l,this.data.cmo_val,!1,this.cmo_valColor,1,n,c,i,t),this.drawLine(l,this.data.roc_val,!1,this.roc_valColor,1,n,c,i,t),this.drawLine(l,this.data.tsi_val,!1,this.tsi_valColor,1,n,c,i,t),this.drawLine(l,this.data.cog_val,!1,this.cog_valColor,1,n,c,i,t),this.drawLine(l,this.data.wpr_val,!1,this.wpr_valColor,1,n,c,i,t),this.drawLine(l,this.data.dmiPlus,!1,this.dmiPlusColor,1,n,c,i,t),this.drawLine(l,this.data.dmiMinus,!1,this.dmiMinusColor,1,n,c,i,t),this.drawLine(l,this.data.dmiAdx,!1,this.dmiAdxColor,1,n,c,i,t),this.signals){if(this.signals.dmi_cross_up){l.fillStyle="#FFFFFF",l.strokeStyle="#FFFFFF";for(var d=i.visibleRange.start;d<i.visibleRange.end;d++)if(d>=0&&d<this.signals.dmi_cross_up.length&&this.signals.dmi_cross_up[d]){var u=i.indexToX(d)+i.candleWidth/2,v=t&&void 0!==t.minValue?t.minValue:0,f=t&&void 0!==t.maxValue?t.maxValue:100,h=s-(v+.9*(f-v)-v)/(f-v)*c;l.beginPath(),l.moveTo(u,h-9),l.lineTo(u-7,h+6),l.lineTo(u+7,h+6),l.closePath(),l.fill()}}if(this.signals.dmi_cross_down){l.fillStyle="#FFFFFF",l.strokeStyle="#FFFFFF";for(var m=i.visibleRange.start;m<i.visibleRange.end;m++)if(m>=0&&m<this.signals.dmi_cross_down.length&&this.signals.dmi_cross_down[m]){var y=i.indexToX(m)+i.candleWidth/2,p=t&&void 0!==t.minValue?t.minValue:0,_=t&&void 0!==t.maxValue?t.maxValue:100,b=s-(p+.05*(_-p)-p)/(_-p)*c;l.beginPath(),l.moveTo(y,b+9),l.lineTo(y-7,b-6),l.lineTo(y+7,b-6),l.closePath(),l.fill()}}}l.restore()}}}},{key:"drawLine",value:function(e,t,l,o,i,a,r,n,s){if(t&&0!==t.length){var c=n.visibleRange,d=Math.max(0,c.start),u=Math.min(t.length,c.end),v=t.slice(d,u),f=d-c.start;e.strokeStyle=o,e.lineWidth=i,e.beginPath();var h=!1;v.forEach(function(t,o){if(null!==t&&!isNaN(t)){var i,d=c.start+f+o,u=n.indexToX(d)+n.candleWidth/2;if(l)i=n.priceToY(t);else{var v=s&&void 0!==s.minValue?s.minValue:0,m=s&&void 0!==s.maxValue?s.maxValue:100;i=a+r-(t-v)/(m-v)*r}h?e.lineTo(u,i):(e.moveTo(u,i),h=!0)}}),e.stroke()}}},{key:"drawHistogram",value:function(e,t,l,o,i,a,r,n){if(t&&0!==t.length)for(var s=a.visibleRange,c=r&&void 0!==r.minValue?r.minValue:0,d=(r&&void 0!==r.maxValue?r.maxValue:100)-c,u=o+i,v=u-(0-c)/d*i,f=s.start;f<s.end;f++)if(!(f<0||f>=t.length)){var h=t[f];if(null!=h&&!isNaN(h)){var m=a.indexToX(f)+a.candleWidth/2,y=u-(h-c)/d*i,p=Math.max(1,.8*a.candleWidth);if(n){var _=f>0?t[f-1]:h;e.fillStyle=n(h,_)}else e.fillStyle=l;var b=Math.abs(y-v),C=h>=0?y:v;e.fillRect(m-p/2,C,p,b)}}}},{key:"drawHLine",value:function(e,t,l,o,i,a,r,n){var s=n&&void 0!==n.minValue?n.minValue:0,c=t+l-(o-s)/((n&&void 0!==n.maxValue?n.maxValue:100)-s)*l;e.strokeStyle=i,e.lineWidth=1,e.setLineDash([5,5]),e.beginPath(),e.moveTo(0,c),e.lineTo(a.canvas.width/r,c),e.stroke(),e.setLineDash([])}}])&&i(l.prototype,o),a&&i(l,a),Object.defineProperty(l,"prototype",{writable:!1}),l;var l,o,a}(l(8018).A)}}]);