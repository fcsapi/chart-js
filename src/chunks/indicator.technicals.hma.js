"use strict";(self.webpackChunkfcsapi_chart=self.webpackChunkfcsapi_chart||[]).push([["indicator.technicals.hma"],{1048:(t,e,o)=>{function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function r(t,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,n(l.key),l)}}function n(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,e||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}function i(t,e,o){return e=h(e),function(t,e){if(e&&("object"==l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,a()?Reflect.construct(e,o||[],h(t).constructor):e.apply(t,o))}function a(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(a=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}o.r(e),o.d(e,{default:()=>s});const s=function(t){function e(t,o,l){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=i(this,e,[t,o,l])).title="Hull Moving Average",r.shorttitle="HMA",r.precision=2,r.src=void 0!==o.src?o.src:"close",r.length1=void 0!==o.length1?o.length1:9,r.length2=void 0!==o.length2?o.length2:16,r.length3=void 0!==o.length3?o.length3:25,r.lineWidth=void 0!==o.lineWidth?o.lineWidth:2,r.showHMA1=void 0===o.showHMA1||o.showHMA1,r.showHMA2=void 0===o.showHMA2||o.showHMA2,r.showHMA3=void 0!==o.showHMA3&&o.showHMA3,r.hma1Color=o.hma1Color||"#2962FF",r.hma2Color=o.hma2Color||"#FF6D00",r.hma3Color=o.hma3Color||"#9C27B0",r.panelType="main",r.plots=[{dataKey:"hma1",colorKey:"hma1Color",title:"HMA 1",showKey:"showHMA1"},{dataKey:"hma2",colorKey:"hma2Color",title:"HMA 2",showKey:"showHMA2"},{dataKey:"hma3",colorKey:"hma3Color",title:"HMA 3",showKey:"showHMA3"}],r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(e,t),o=e,n=[{key:"getSettingsConfig",value:function(){return{inputs:[{key:"src",label:"Source",type:"source",default:"close",tooltip:"Price source for HMA calculation"},{key:"length1",label:"HMA 1 Length",type:"number",default:9,min:2,max:500,step:1,tooltip:"Period for first HMA line (short term)"},{key:"length2",label:"HMA 2 Length",type:"number",default:16,min:2,max:500,step:1,tooltip:"Period for second HMA line (medium term)"},{key:"length3",label:"HMA 3 Length",type:"number",default:25,min:2,max:500,step:1,tooltip:"Period for third HMA line (long term)"},{key:"lineWidth",label:"Line Width",type:"number",default:2,min:1,max:5,step:1,tooltip:"Thickness of HMA lines"}],style:[{key:"showHMA1",label:"Show HMA 1",type:"checkbox",default:!0,tooltip:"Toggle HMA 1 visibility"},{key:"hma1Color",label:"HMA 1 Color",type:"color",default:"#2962FF",tooltip:"Color for HMA 1 line"},{key:"showHMA2",label:"Show HMA 2",type:"checkbox",default:!0,tooltip:"Toggle HMA 2 visibility"},{key:"hma2Color",label:"HMA 2 Color",type:"color",default:"#FF6D00",tooltip:"Color for HMA 2 line"},{key:"showHMA3",label:"Show HMA 3",type:"checkbox",default:!1,tooltip:"Toggle HMA 3 visibility"},{key:"hma3Color",label:"HMA 3 Color",type:"color",default:"#9C27B0",tooltip:"Color for HMA 3 line"}]}}}],(l=[{key:"calculateWMA",value:function(t,e){if(!t||0===t.length)return null;for(var o=[],l=e*(e+1)/2,r=0;r<t.length;r++)if(r<e-1)o.push(null);else{for(var n=0,i=0;i<e;i++){var a=e-i,h=t[r-i];if(null==h){n=null;break}n+=h*a}o.push(null!==n?n/l:null)}return o}},{key:"calculateHMA",value:function(t,e){if(!t||0===t.length||e<2)return null;var o=Math.floor(e/2),l=Math.floor(Math.sqrt(e)),r=this.calculateWMA(t,o);if(!r)return null;var n=this.calculateWMA(t,e);if(!n)return null;var i=r.map(function(t,e){return null===t||null===n[e]?null:2*t-n[e]});return this.calculateWMA(i,l)}},{key:"calculate",value:function(){var t=this,e=this.engine.data;if(e&&0!==e.length){var o=e.map(function(e){return e[t.src]}),l=this.showHMA1?this.calculateHMA(o,this.length1):null,r=this.showHMA2?this.calculateHMA(o,this.length2):null,n=this.showHMA3?this.calculateHMA(o,this.length3):null;this.data={hma1:l,hma2:r,hma3:n}}}},{key:"render",value:function(t,e){if(this.visible&&this.data){var o=this.engine,l=o.data;(!this.data.hma1&&this.showHMA1||this.data.hma1&&this.data.hma1.length!==l.length)&&(this.calculate(),!this.data)||(this.showHMA1&&this.data.hma1&&t.renderLine(o,this.data.hma1,this.hma1Color,this.lineWidth,0),this.showHMA2&&this.data.hma2&&t.renderLine(o,this.data.hma2,this.hma2Color,this.lineWidth,0),this.showHMA3&&this.data.hma3&&t.renderLine(o,this.data.hma3,this.hma3Color,this.lineWidth,0))}}}])&&r(o.prototype,l),n&&r(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,l,n}(o(8018).A)}}]);